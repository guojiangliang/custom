(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be36aec"],{"02b0":function(e,t,n){"use strict";var a=n("d0df"),l=n.n(a);l.a},"05c2":function(e,t,n){},"0a82":function(e,t,n){"use strict";var a=n("9fb9"),l=n.n(a);l.a},1817:function(e,t,n){"use strict";var a=n("fe94"),l=n.n(a);l.a},"25f4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-page"},[a("div",{staticClass:"header"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleSave}},[e._v(" 保存 ")]),a("el-button",{attrs:{size:"mini",type:"warning"}},[e._v(" 预览 ")]),a("el-button",{attrs:{size:"mini",type:"success"}},[e._v(" 还原 ")])],1),a("div",{staticClass:"content"},[a("el-scrollbar",{staticClass:"left-scrollbar"},e._l(e.menus,(function(t){return a("div",{key:t.type,staticClass:"left-box"},[a("div",{staticClass:"title"},[e._v(e._s(t.categoryName))]),a("draggable",{staticClass:"component-list",attrs:{list:t.list,sort:!1,group:{name:"comp",pull:"clone",put:!1}},on:{end:e.onEnd,start:e.onStart}},e._l(t.list,(function(t){return a("div",{key:t.type,staticClass:"component-item"},[e._v(" "+e._s(t.name)+" ")])})),0)],1)})),0),a("el-scrollbar",{staticClass:"middle-page"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-title"},[e._v(e._s(e.setting.title))])]),a("div",{staticClass:"page"},[a("draggable",e._b({staticClass:"page-drag",style:"background:"+e.setting.bg+";padding-left: "+e.setting.padding+"%;padding-right: "+e.setting.padding+"%",attrs:{list:e.pages,group:"comp"},on:{end:e.changePos}},"draggable",{animation:300},!1),e._l(e.pages,(function(t,l){return a("div",{key:l,staticClass:"elements",class:e.active===l?"active":"",on:{click:function(t){return e.onSelect(l)}}},[a("div",{staticClass:"del-btn",on:{click:function(t){return t.stopPropagation(),e.doDel(l)}}},[a("img",{attrs:{src:n("6e30"),alt:"删除"}})]),a(e.formatType(t.type,"Element"),{tag:"component",attrs:{element:t}})],1)})),0)],1),a("div",{staticClass:"footer"},[e._v(" 页面底部 ")])]),a("el-scrollbar",{staticClass:"right-panel"},[a("div",{staticClass:"right-menus"},e._l(e.rightMenu,(function(t){return a("div",{key:t.active,class:e.active===t.active?"active":"",on:{click:function(n){return e.goMenu(t.active,t.type)}}},[e._v(" "+e._s(t.name)+" ")])})),0),e.editElement&&e.editElement.type?a(e.formatType(e.editElement.type,"Panel"),{tag:"component",attrs:{element:e.editElement}}):a("div",[e._v("暂无组件")])],1)],1)])},l=[],i=n("5530"),s=n("1980"),o=n.n(s),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-element",style:"font-size: "+e.element.fontSize+"px;"},[e._v(" "+e._s(e.element.name)+" ")])},c=[],u={components:{},props:{element:{type:Object,default:function(){}}}},m=u,d=(n("e9bb"),n("2877")),p=Object(d["a"])(m,r,c,!1,null,"28aa4d62",null),f=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rich-element",style:"font-size: "+e.element.fontSize+"px;"},[e._v(" "+e._s(e.element.name)+" ")])},h=[],v={components:{},props:{element:{type:Object,default:function(){}}},data:function(){return{}},computed:{pages:function(){return this.$store.state.custom.pages}},created:function(){},methods:{}},b=v,_=(n("e74b"),Object(d["a"])(b,g,h,!1,null,"235125a6",null)),x=_.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"goods-element",style:"font-size: "+e.element.fontSize+"px;"},[e._v(" "+e._s(e.element.name)+" ")])},A=[],C={components:{},props:{element:{type:Object,default:function(){}}}},k=C,E=(n("0a82"),Object(d["a"])(k,y,A,!1,null,"1f0c6d20",null)),S=E.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"goods-list-element",style:"font-size: "+e.element.fontSize+"px;"},[e._v(" "+e._s(e.element.name)+" ")])},$=[],O={components:{},props:{element:{type:Object,default:function(){}}}},U=O,j=(n("ba2b"),Object(d["a"])(U,w,$,!1,null,"66d31aec",null)),z=j.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image-element",style:"padding-top: "+e.element.padding+"px;padding-bottom: "+e.element.padding+"px;"},[e.element.imgUrl?n("div",{staticClass:"image"},[n("img",{attrs:{src:e.element.imgUrl,alt:""}}),e._l(e.element.area,(function(t,a){return[t.isDel?e._e():n("div",{key:a,staticClass:"hot-area",style:"width: "+t.pw+";height: "+t.ph+";left: "+t.px+"; top:"+t.py+";"},[e._v(" "+e._s(t.url?e.formatUrl(t.url):"暂无链接")+" ")])]}))],2):n("div",{staticClass:"no-image"},[n("p",[e._v("点击编辑图片广告")])])])},V=[],D={props:{element:{type:Object,default:null}},data:function(){return{show:!0}},mounted:function(){},methods:{formatUrl:function(e){switch(e){case"1":return"店铺首页";case"2":return"我的页面";case"3":return"发现页面";case"4":return"购物车页面";case"5":return"全部商品";case"6":return"分类页面";case"7":return"自定义外链";case"8":return"商品详情";default:break}}}},P=D,T=(n("1817"),Object(d["a"])(P,I,V,!1,null,"2b0d7ddd",null)),N=T.exports,J={components:{titleElement:f,richElement:x,goodsElement:S,goodsListElement:z,hotAreaElement:N},data:function(){return{}},methods:{}},H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-panel"},[n("panel-header",{attrs:{title:"标题组件"}}),n("el-form",{attrs:{model:e.element}},[n("el-form-item",{attrs:{label:"文字"}},[n("el-input",{model:{value:e.element.name,callback:function(t){e.$set(e.element,"name",t)},expression:"element.name"}})],1),n("el-form-item",{attrs:{label:"大小"}},[n("el-input",{model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1)],1)},L=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-header"},[e._v(e._s(e.title))])},R=[],B={props:{title:{type:String,default:""}}},Y=B,F=(n("ded0"),Object(d["a"])(Y,M,R,!1,null,"0529742a",null)),Q=F.exports,W={components:{panelHeader:Q},props:{element:{type:Object,default:function(){}}}},X={mixins:[W],props:{element:{type:Object,default:function(){}}}},Z=X,q=Object(d["a"])(Z,H,L,!1,null,"ba121b22",null),K=q.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-panel"},[n("panel-header",{attrs:{title:"富文本组件"}}),n("el-form",{attrs:{model:e.element}},[n("el-form-item",{attrs:{label:"文字"}},[n("el-input",{model:{value:e.element.name,callback:function(t){e.$set(e.element,"name",t)},expression:"element.name"}})],1),n("el-form-item",{attrs:{label:"大小"}},[n("el-input",{model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1)],1)},ee=[],te={mixins:[W],props:{element:{type:Object,default:function(){}}}},ne=te,ae=Object(d["a"])(ne,G,ee,!1,null,"286ee94a",null),le=ae.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-panel"},[n("panel-header",{attrs:{title:"商品组件"}}),n("el-form",{attrs:{model:e.element}},[n("el-form-item",{attrs:{label:"文字"}},[n("el-input",{model:{value:e.element.name,callback:function(t){e.$set(e.element,"name",t)},expression:"element.name"}})],1),n("el-form-item",{attrs:{label:"大小"}},[n("el-input",{model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1)],1)},se=[],oe={mixins:[W],props:{element:{type:Object,default:function(){}}}},re=oe,ce=Object(d["a"])(re,ie,se,!1,null,"2203ba27",null),ue=ce.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-panel"},[n("panel-header",{attrs:{title:"商品列表组件"}}),n("el-form",{attrs:{model:e.element}},[n("el-form-item",{attrs:{label:"文字"}},[n("el-input",{model:{value:e.element.name,callback:function(t){e.$set(e.element,"name",t)},expression:"element.name"}})],1),n("el-form-item",{attrs:{label:"大小"}},[n("el-input",{model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1)],1)},de=[],pe={mixins:[W],props:{element:{type:Object,default:function(){}}}},fe=pe,ge=Object(d["a"])(fe,me,de,!1,null,"56204c58",null),he=ge.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-panel"},[n("panel-header",{attrs:{title:"页面设置"}}),n("el-form",{staticClass:"setting-form",attrs:{model:e.setting,"label-width":"140px"}},[n("el-form-item",{attrs:{label:"页面标题"}},[n("el-input",{model:{value:e.setting.title,callback:function(t){e.$set(e.setting,"title",t)},expression:"setting.title"}})],1),n("el-form-item",{attrs:{label:"页面背景"}},[n("el-color-picker",{attrs:{predefine:e.predefineColors,"show-alpha":""},model:{value:e.setting.bg,callback:function(t){e.$set(e.setting,"bg",t)},expression:"setting.bg"}})],1),n("el-form-item",{attrs:{label:"左右边距(百分比)"}},[n("el-slider",{attrs:{max:30,step:.1,"show-input":""},model:{value:e.setting.padding,callback:function(t){e.$set(e.setting,"padding",t)},expression:"setting.padding"}})],1)],1)],1)},be=[],_e={components:{panelHeader:Q},data:function(){return{predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577","#FF838B"]}},computed:{setting:function(){return this.$store.state.custom.setting}},mounted:function(){},created:function(){},methods:{}},xe=_e,ye=(n("f6df"),Object(d["a"])(xe,ve,be,!1,null,"37104a10",null)),Ae=ye.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-panel"},[n("panel-header",{attrs:{title:"组件管理"}})],1)},ke=[],Ee={components:{panelHeader:Q},data:function(){return{}},mounted:function(){},created:function(){},methods:{}},Se=Ee,we=Object(d["a"])(Se,Ce,ke,!1,null,"4d65de63",null),$e=we.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hot-area-panel"},[n("panel-header",{attrs:{title:"热区组件"}}),n("el-form",{staticClass:"area-form",attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"上下边距："}},[n("el-slider",{attrs:{"show-input":""},model:{value:e.element.padding,callback:function(t){e.$set(e.element,"padding",t)},expression:"element.padding"}})],1),n("el-form-item",{staticClass:"select-img",attrs:{label:"选择图片："}},[""===e.element.imgUrl?n("single-image",{on:{input:e.handleUploadSuccess}}):e._e(),e.element.imgUrl?n("img",{attrs:{src:e.element.imgUrl,alt:"热区图片"}}):e._e(),e.element.imgUrl?n("div",{on:{click:e.handleDelImg}},[e._v("删除图片")]):e._e()],1),n("div",{staticClass:"button"},[n("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return t.stopPropagation(),e.handleDraw(e.element.imgUrl)}}},[e._v(" 绘制热区 ")])],1)],1),n("el-dialog",{attrs:{visible:e.dialogAreaVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,title:"热区编辑器",width:"50%"},on:{"update:visible":function(t){e.dialogAreaVisible=t}}},[e.element.area[e.index]?n("el-dialog",{attrs:{visible:e.innerVisible,modal:!1,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"modal-append-to-body":!0,width:"30%",title:"设置链接","append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[n("el-form",[n("el-form-item",{attrs:{label:"链接到"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.element.area[e.index].url,callback:function(t){e.$set(e.element.area[e.index],"url",t)},expression:"element.area[index].url"}},[n("el-option",{attrs:{label:"店铺首页",value:"1"}}),n("el-option",{attrs:{label:"我的页面",value:"2"}}),n("el-option",{attrs:{label:"发现页面",value:"3"}}),n("el-option",{attrs:{label:"购物车页面",value:"4"}}),n("el-option",{attrs:{label:"商品详情",value:"8"}}),n("el-option",{attrs:{label:"全部商品",value:"5"}}),n("el-option",{attrs:{label:"分类页面",value:"6"}}),n("el-option",{attrs:{label:"自定义外链",value:"7"}})],1)],1),"7"===e.element.area[e.index].url?n("el-form-item",{attrs:{label:"自定义外链"}},[n("el-input",{model:{value:e.element.area[e.index].customLink,callback:function(t){e.$set(e.element.area[e.index],"customLink",t)},expression:"element.area[index].customLink"}})],1):e._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveUrl}},[e._v("确 定")])],1)],1):e._e(),n("div",{ref:"hot-area",staticClass:"hot-area"},[n("div",{staticClass:"hot-img"},[n("img",{ref:"image",attrs:{src:e.element.imgUrl,alt:""}})]),e.element.area.length>0?[e._l(e.element.area,(function(t,a){return[t.isDel?e._e():n("vue-draggable-resizable",{key:t.id,staticStyle:{border:"1px solid #000",background:"#fff","text-align":"center"},attrs:{id:"drag_"+t.id,parent:!0,x:t.x,y:t.y,w:t.w,h:t.h},on:{activated:function(t){return e.onActivated(a)},dragstop:e.onDragstop,resizestop:e.onResizestop}},[n("p",{staticStyle:{"min-width":"50px","min-height":"50px"},on:{dblclick:function(t){return t.stopPropagation(),e.setUrl(a)}}},[e._v(" "+e._s(t.url?e.formatUrl(t.url):"双击设置链接")+" ")]),n("div",{staticClass:"close",on:{click:function(n){return e.delHotArea(t.id)}}},[n("i",{staticClass:"el-icon-error"})])])]}))]:e._e()],2),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.addHotArea}},[e._v("添加热区")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveHotArea}},[e._v("关 闭")])],1)],1)],1)},Ue=[],je=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"image-uploader",attrs:{data:e.dataObj,multiple:!1,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleImageSuccess,drag:"",action:"https://httpbin.org/post"}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])])])],1)}),ze=[],Ie={name:"SingleImageUpload",props:{value:{type:String,default:""}},data:function(){return{loading:!1,tempUrl:"",dataObj:{token:"",key:""}}},methods:{rmImage:function(){this.emitInput("")},emitInput:function(e){this.$emit("input",e)},handleImageSuccess:function(e){this.loading=!1,this.emitInput(e.files.file)},beforeUpload:function(){this.loading=!0}}},Ve=Ie,De=(n("de78"),Object(d["a"])(Ve,je,ze,!1,null,"48cf7f84",null)),Pe=De.exports,Te=n("851c"),Ne=n.n(Te),Je=n("a36b"),He=n.n(Je),Le={components:{singleImage:Pe,vueDraggableResizable:Ne.a},mixins:[W],data:function(){return{dialogAreaVisible:!1,innerVisible:!1,activeAreaIndex:-1,img:He.a,index:-1,tmpUrl:""}},methods:{handleUploadSuccess:function(e){this.element.imgUrl=e,this.element.area=[]},handleDelImg:function(){this.element.imgUrl="",this.element.area=[]},formatUrl:function(e){switch(e){case"1":return"店铺首页";case"2":return"我的页面";case"3":return"发现页面";case"4":return"购物车页面";case"5":return"全部商品";case"6":return"分类页面";case"7":return"自定义外链";case"8":return"商品详情";default:break}},onResizestop:function(e,t,n,a){if(this.element.area.length>0&&this.element.area[this.activeAreaIndex]){var l=this.element.area[this.activeAreaIndex];l.x=e,l.y=t,l.w=n,l.h=a,l.px=e/5+"%",l.py=100*t/this.element.height+"%",l.pw=n/5+"%",l.ph=100*a/this.element.height+"%"}},onDragstop:function(e,t){if(this.element.area.length>0&&this.element.area[this.activeAreaIndex]){var n=this.element.area[this.activeAreaIndex];n.x=e,n.y=t,n.px=e/5+"%",n.py=100*t/this.element.height+"%"}},onActivated:function(e){this.activeAreaIndex=e},setUrl:function(e){this.index=e,this.tmpUrl=this.element.area[e].url,this.innerVisible=!0},cancel:function(){this.element.area[this.index].url=this.tmpUrl,this.innerVisible=!1},saveUrl:function(){this.innerVisible=!1},handleDraw:function(e){var t=this;if(e){this.dialogAreaVisible=!0;var n=new Image;n.src=e,n.onload=function(){t.element.height=parseInt(500*n.height/n.width),t.$refs["hot-area"].style.height=t.element.height+"px"}}else this.$notify.error({title:"提示",message:"请先上传图片！",duration:1500})},delHotArea:function(e){var t=this;this.element.area.forEach((function(n,a){n.id===e&&(document.getElementById("drag_"+e).remove(),t.element.area[a].isDel=!0)}))},emptyHotArea:function(){this.element.area=[]},addHotArea:function(){var e=this;setTimeout((function(){e.element.area.push({id:(new Date).getTime(),x:0,y:0,w:100,h:50,url:"",customLink:"",goodsImgUrl:"",px:"0",py:"0",pw:"20%",ph:5e3/e.element.height+"%",isDel:!1})}),100)},saveHotArea:function(){this.dialogAreaVisible=!1}}},Me=Le,Re=(n("02b0"),Object(d["a"])(Me,Oe,Ue,!1,null,null,null)),Be=Re.exports,Ye={components:{titlePanel:K,richPanel:le,goodsPanel:ue,goodsListPanel:he,settingPanel:Ae,componentsPanel:$e,hotAreaPanel:Be},data:function(){return{}},methods:{}},Fe=n("2f62"),Qe={components:{draggable:o.a},mixins:[J,Ye],data:function(){return{len:0,rightMenu:[{name:"页面设置",active:-1,type:"setting"},{name:"组件管理",active:-2,type:"components"}]}},computed:Object(i["a"])({},Object(Fe["c"])({pages:function(e){return e.custom.pages},menus:function(e){return e.custom.menus},active:function(e){return e.custom.active},setting:function(e){return e.custom.setting},editElement:function(e){return e.custom.editElement}})),mounted:function(){},created:function(){},methods:{onStart:function(e){this.len=this.pages.length},onEnd:function(e){this.pages.length>this.len&&this.$store.commit("custom/SET_ACTIVE",{index:e.newIndex,type:"new"})},changePos:function(e){this.$store.commit("custom/SET_ACTIVE",{index:e.newIndex})},onSelect:function(e){this.$store.commit("custom/SET_ACTIVE",{index:e})},formatType:function(e,t){switch(e){case e:return"".concat(e+t)}},doDel:function(e){this.$store.commit("custom/DELETE_ELEMENT",e)},handleSave:function(){console.log(JSON.stringify(this.pages))},goMenu:function(e,t){this.$store.commit("custom/SET_ACTIVE",{index:e,type:t})}}},We=Qe,Xe=(n("7aed"),Object(d["a"])(We,a,l,!1,null,"6a547d6e",null));t["default"]=Xe.exports},3391:function(e,t,n){},"3c19":function(e,t,n){},"5c01":function(e,t,n){},"6e30":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAMlJREFUWAntlkEOgCAMBMH4Vo0+SOP//IeGA5eS2gVNaMx6wcDClqENhMCPBPoSiKj9th8XqkV06zJD3gOyWE8NA+xJn96JQFFJX1drLWZZ3SySWoJS755gkYN5BzIXZW5kXWuLru+eIANsTYE8b8w/ta2VQ9Y46scjRklpOhLUyKD9JIiS0nQkqJFB+90TbL5JrNeNNf4bgu6P2H2AcA7K1wmaQ2917gmqAcYYz7e7R+c/eakBXkOYniai5pYueSQvS8dxEuhF4AZRNSPlGaZECAAAAABJRU5ErkJggg=="},"7aed":function(e,t,n){"use strict";var a=n("eed1"),l=n.n(a);l.a},9550:function(e,t,n){},"9fb9":function(e,t,n){},a36b:function(e,t,n){e.exports=n.p+"static/img/404.a57b6f31.png"},ba2b:function(e,t,n){"use strict";var a=n("fc51"),l=n.n(a);l.a},d0df:function(e,t,n){},de78:function(e,t,n){"use strict";var a=n("3391"),l=n.n(a);l.a},ded0:function(e,t,n){"use strict";var a=n("9550"),l=n.n(a);l.a},e74b:function(e,t,n){"use strict";var a=n("05c2"),l=n.n(a);l.a},e9bb:function(e,t,n){"use strict";var a=n("5c01"),l=n.n(a);l.a},eed1:function(e,t,n){},f6df:function(e,t,n){"use strict";var a=n("3c19"),l=n.n(a);l.a},fc51:function(e,t,n){},fe94:function(e,t,n){}}]);